"use strict";/*!
 * @pixi/utils - v7.0.0-beta.3
 * Compiled Thu, 13 Oct 2022 15:35:43 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Object.defineProperty(exports,"__esModule",{value:!0});var g=require("@pixi/settings"),R=require("eventemitter3"),O=require("earcut"),y=require("url"),u=require("@pixi/constants");function k(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var N=k(R),L=k(O);const E={parse:y.parse,format:y.format,resolve:y.resolve};function d(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function A(e){return e.split("?")[0].split("#")[0]}function S(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(e,t,r){return e.replace(new RegExp(S(t),"g"),r)}function q(e,t){let r="",a=0,n=-1,i=0,o;for(let l=0;l<=e.length;++l){if(l<e.length)o=e.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(n===l-1||i===1))if(n!==l-1&&i===2){if(r.length<2||a!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const s=r.lastIndexOf("/");if(s!==r.length-1){s===-1?(r="",a=0):(r=r.slice(0,s),a=r.length-1-r.lastIndexOf("/")),n=l,i=0;continue}}else if(r.length===2||r.length===1){r="",a=0,n=l,i=0;continue}}t&&(r.length>0?r+="/..":r="..",a=2)}else r.length>0?r+=`/${e.slice(n+1,l)}`:r=e.slice(n+1,l),a=l-n-1;n=l,i=0}else o===46&&i!==-1?++i:i=-1}return r}const x={toPosix(e){return B(e,"\\","/")},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol(e){d(e),e=this.toPosix(e);let t="";const r=/^file:\/\/\//.exec(e),a=/^[^/:]+:\/\//.exec(e),n=/^[^/:]+:\//.exec(e);if(r||a||n){const i=r?.[0]||a?.[0]||n?.[0];t=i,e=e.slice(i.length)}return t},toAbsolute(e,t,r){if(this.isDataUrl(e))return e;const a=A(this.toPosix(t??g.settings.ADAPTER.getBaseUrl())),n=A(this.toPosix(r??this.rootname(a)));return d(e),e=this.toPosix(e),e.startsWith("/")?x.join(n,e.slice(1)):this.isAbsolute(e)?e:this.join(a,e)},normalize(e){if(e=this.toPosix(e),d(e),e.length===0)return".";let t="";const r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const a=e.endsWith("/");return e=q(e,!1),e.length>0&&a&&(e+="/"),r?`/${e}`:t+e},isAbsolute(e){return d(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){const a=e[r];if(d(a),a.length>0)if(t===void 0)t=a;else{const n=e[r-1]??"";this.extname(n)?t+=`/../${a}`:t+=`/${a}`}}return t===void 0?".":this.normalize(t)},dirname(e){if(d(e),e.length===0)return".";e=this.toPosix(e);let t=e.charCodeAt(0);const r=t===47;let a=-1,n=!0;const i=this.getProtocol(e),o=e;e=e.slice(i.length);for(let l=e.length-1;l>=1;--l)if(t=e.charCodeAt(l),t===47){if(!n){a=l;break}}else n=!1;return a===-1?r?"/":this.isUrl(o)?i+e:i:r&&a===1?"//":i+e.slice(0,a)},rootname(e){d(e),e=this.toPosix(e);let t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){const r=e.indexOf("/",t.length);r!==-1?t=e.slice(0,r):t=e,t.endsWith("/")||(t+="/")}return t},basename(e,t){d(e),t&&d(t),e=this.toPosix(e);let r=0,a=-1,n=!0,i;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let o=t.length-1,l=-1;for(i=e.length-1;i>=0;--i){const s=e.charCodeAt(i);if(s===47){if(!n){r=i+1;break}}else l===-1&&(n=!1,l=i+1),o>=0&&(s===t.charCodeAt(o)?--o===-1&&(a=i):(o=-1,a=l))}return r===a?a=l:a===-1&&(a=e.length),e.slice(r,a)}for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===47){if(!n){r=i+1;break}}else a===-1&&(n=!1,a=i+1);return a===-1?"":e.slice(r,a)},extname(e){d(e),e=this.toPosix(e);let t=-1,r=0,a=-1,n=!0,i=0;for(let o=e.length-1;o>=0;--o){const l=e.charCodeAt(o);if(l===47){if(!n){r=o+1;break}continue}a===-1&&(n=!1,a=o+1),l===46?t===-1?t=o:i!==1&&(i=1):t!==-1&&(i=-1)}return t===-1||a===-1||i===0||i===1&&t===a-1&&t===r+1?"":e.slice(t,a)},parse(e){d(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=this.toPosix(e);let r=e.charCodeAt(0);const a=this.isAbsolute(e);let n;t.root=this.rootname(e),a||this.hasProtocol(e)?n=1:n=0;let i=-1,o=0,l=-1,s=!0,f=e.length-1,c=0;for(;f>=n;--f){if(r=e.charCodeAt(f),r===47){if(!s){o=f+1;break}continue}l===-1&&(s=!1,l=f+1),r===46?i===-1?i=f:c!==1&&(c=1):i!==-1&&(c=-1)}return i===-1||l===-1||c===0||c===1&&i===l-1&&i===o+1?l!==-1&&(o===0&&a?t.base=t.name=e.slice(1,l):t.base=t.name=e.slice(o,l)):(o===0&&a?(t.name=e.slice(1,i),t.base=e.slice(1,l)):(t.name=e.slice(o,i),t.base=e.slice(o,l)),t.ext=e.slice(i,l)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"};g.settings.RETINA_PREFIX=/@([0-9\.]+)x/,g.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;function I(){}function $(){}let w;function U(){return typeof w>"u"&&(w=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:g.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!g.settings.ADAPTER.getWebGLRenderingContext())return!1;const t=g.settings.ADAPTER.createCanvas();let r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);const a=!!(r&&r.getContextAttributes().stencil);if(r){const n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,a}catch{return!1}}()),w}var F="#f0f8ff",j="#faebd7",W="#00ffff",z="#7fffd4",J="#f0ffff",G="#f5f5dc",H="#ffe4c4",Y="#000000",Q="#ffebcd",V="#0000ff",X="#8a2be2",K="#a52a2a",Z="#deb887",ee="#5f9ea0",te="#7fff00",re="#d2691e",ae="#ff7f50",ne="#6495ed",ie="#fff8dc",oe="#dc143c",le="#00ffff",se="#00008b",fe="#008b8b",ce="#b8860b",ue="#a9a9a9",de="#006400",ge="#a9a9a9",he="#bdb76b",ve="#8b008b",be="#556b2f",me="#ff8c00",pe="#9932cc",ye="#8b0000",we="#e9967a",ke="#8fbc8f",Ee="#483d8b",Ae="#2f4f4f",xe="#2f4f4f",Pe="#00ced1",Ce="#9400d3",De="#ff1493",_e="#00bfff",Te="#696969",Me="#696969",Re="#1e90ff",Oe="#b22222",Ne="#fffaf0",Le="#228b22",Se="#ff00ff",Be="#dcdcdc",qe="#f8f8ff",Ie="#daa520",$e="#ffd700",Ue="#808080",Fe="#008000",je="#adff2f",We="#808080",ze="#f0fff0",Je="#ff69b4",Ge="#cd5c5c",He="#4b0082",Ye="#fffff0",Qe="#f0e68c",Ve="#fff0f5",Xe="#e6e6fa",Ke="#7cfc00",Ze="#fffacd",et="#add8e6",tt="#f08080",rt="#e0ffff",at="#fafad2",nt="#d3d3d3",it="#90ee90",ot="#d3d3d3",lt="#ffb6c1",st="#ffa07a",ft="#20b2aa",ct="#87cefa",ut="#778899",dt="#778899",gt="#b0c4de",ht="#ffffe0",vt="#00ff00",bt="#32cd32",mt="#faf0e6",pt="#ff00ff",yt="#800000",wt="#66cdaa",kt="#0000cd",Et="#ba55d3",At="#9370db",xt="#3cb371",Pt="#7b68ee",Ct="#00fa9a",Dt="#48d1cc",_t="#c71585",Tt="#191970",Mt="#f5fffa",Rt="#ffe4e1",Ot="#ffe4b5",Nt="#ffdead",Lt="#000080",St="#fdf5e6",Bt="#808000",qt="#6b8e23",It="#ffa500",$t="#ff4500",Ut="#da70d6",Ft="#eee8aa",jt="#98fb98",Wt="#afeeee",zt="#db7093",Jt="#ffefd5",Gt="#ffdab9",Ht="#cd853f",Yt="#ffc0cb",Qt="#dda0dd",Vt="#b0e0e6",Xt="#800080",Kt="#663399",Zt="#ff0000",er="#bc8f8f",tr="#4169e1",rr="#8b4513",ar="#fa8072",nr="#f4a460",ir="#2e8b57",or="#fff5ee",lr="#a0522d",sr="#c0c0c0",fr="#87ceeb",cr="#6a5acd",ur="#708090",dr="#708090",gr="#fffafa",hr="#00ff7f",vr="#4682b4",br="#d2b48c",mr="#008080",pr="#d8bfd8",yr="#ff6347",wr="#40e0d0",kr="#ee82ee",Er="#f5deb3",Ar="#ffffff",xr="#f5f5f5",Pr="#ffff00",Cr="#9acd32",Dr={aliceblue:F,antiquewhite:j,aqua:W,aquamarine:z,azure:J,beige:G,bisque:H,black:Y,blanchedalmond:Q,blue:V,blueviolet:X,brown:K,burlywood:Z,cadetblue:ee,chartreuse:te,chocolate:re,coral:ae,cornflowerblue:ne,cornsilk:ie,crimson:oe,cyan:le,darkblue:se,darkcyan:fe,darkgoldenrod:ce,darkgray:ue,darkgreen:de,darkgrey:ge,darkkhaki:he,darkmagenta:ve,darkolivegreen:be,darkorange:me,darkorchid:pe,darkred:ye,darksalmon:we,darkseagreen:ke,darkslateblue:Ee,darkslategray:Ae,darkslategrey:xe,darkturquoise:Pe,darkviolet:Ce,deeppink:De,deepskyblue:_e,dimgray:Te,dimgrey:Me,dodgerblue:Re,firebrick:Oe,floralwhite:Ne,forestgreen:Le,fuchsia:Se,gainsboro:Be,ghostwhite:qe,goldenrod:Ie,gold:$e,gray:Ue,green:Fe,greenyellow:je,grey:We,honeydew:ze,hotpink:Je,indianred:Ge,indigo:He,ivory:Ye,khaki:Qe,lavenderblush:Ve,lavender:Xe,lawngreen:Ke,lemonchiffon:Ze,lightblue:et,lightcoral:tt,lightcyan:rt,lightgoldenrodyellow:at,lightgray:nt,lightgreen:it,lightgrey:ot,lightpink:lt,lightsalmon:st,lightseagreen:ft,lightskyblue:ct,lightslategray:ut,lightslategrey:dt,lightsteelblue:gt,lightyellow:ht,lime:vt,limegreen:bt,linen:mt,magenta:pt,maroon:yt,mediumaquamarine:wt,mediumblue:kt,mediumorchid:Et,mediumpurple:At,mediumseagreen:xt,mediumslateblue:Pt,mediumspringgreen:Ct,mediumturquoise:Dt,mediumvioletred:_t,midnightblue:Tt,mintcream:Mt,mistyrose:Rt,moccasin:Ot,navajowhite:Nt,navy:Lt,oldlace:St,olive:Bt,olivedrab:qt,orange:It,orangered:$t,orchid:Ut,palegoldenrod:Ft,palegreen:jt,paleturquoise:Wt,palevioletred:zt,papayawhip:Jt,peachpuff:Gt,peru:Ht,pink:Yt,plum:Qt,powderblue:Vt,purple:Xt,rebeccapurple:Kt,red:Zt,rosybrown:er,royalblue:tr,saddlebrown:rr,salmon:ar,sandybrown:nr,seagreen:ir,seashell:or,sienna:lr,silver:sr,skyblue:fr,slateblue:cr,slategray:ur,slategrey:dr,snow:gr,springgreen:hr,steelblue:vr,tan:br,teal:mr,thistle:pr,tomato:yr,turquoise:wr,violet:kr,wheat:Er,white:Ar,whitesmoke:xr,yellow:Pr,yellowgreen:Cr};function _r(e,t=[]){return t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function Tr(e){let t=e.toString(16);return t="000000".substring(0,6-t.length)+t,`#${t}`}function Mr(e){if(typeof e=="string"&&(e=Dr[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1)),e.length===3)){const[t,r,a]=e;e=t+t+r+r+a+a}return parseInt(e,16)}function Rr(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function Or(){const e=[],t=[];for(let a=0;a<32;a++)e[a]=a,t[a]=a;e[u.BLEND_MODES.NORMAL_NPM]=u.BLEND_MODES.NORMAL,e[u.BLEND_MODES.ADD_NPM]=u.BLEND_MODES.ADD,e[u.BLEND_MODES.SCREEN_NPM]=u.BLEND_MODES.SCREEN,t[u.BLEND_MODES.NORMAL]=u.BLEND_MODES.NORMAL_NPM,t[u.BLEND_MODES.ADD]=u.BLEND_MODES.ADD_NPM,t[u.BLEND_MODES.SCREEN]=u.BLEND_MODES.SCREEN_NPM;const r=[];return r.push(t),r.push(e),r}const P=Or();function Nr(e,t){return P[t?1:0][e]}function Lr(e,t,r,a){return r=r||new Float32Array(4),a||a===void 0?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function Sr(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;let r=e>>16&255,a=e>>8&255,n=e&255;return r=r*t+.5|0,a=a*t+.5|0,n=n*t+.5|0,(t*255<<24)+(r<<16)+(a<<8)+n}function Br(e,t,r,a){return r=r||new Float32Array(4),r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,(a||a===void 0)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function qr(e,t=null){const r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let a=0,n=0;a<r;a+=6,n+=4)t[a+0]=n+0,t[a+1]=n+1,t[a+2]=n+2,t[a+3]=n+0,t[a+4]=n+2,t[a+5]=n+3;return t}function C(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}const Ir={Float32Array,Uint32Array,Int32Array,Uint8Array};function $r(e,t){let r=0,a=0;const n={};for(let s=0;s<e.length;s++)a+=t[s],r+=e[s].length;const i=new ArrayBuffer(r*4);let o=null,l=0;for(let s=0;s<e.length;s++){const f=t[s],c=e[s],m=C(c);n[m]||(n[m]=new Ir[m](i)),o=n[m];for(let h=0;h<c.length;h++){const T=(h/f|0)*a+l,M=h%f;o[T+M]=c[h]}l+=f}return new Float32Array(i)}function Ur(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Fr(e){return!(e&e-1)&&!!e}function jr(e){let t=(e>65535?1:0)<<4;e>>>=t;let r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function Wr(e,t,r){const a=e.length;let n;if(t>=a||r===0)return;r=t+r>a?a-t:r;const i=a-r;for(n=t;n<i;++n)e[n]=e[n+r];e.length=i}function zr(e){return e===0?0:e<0?-1:1}let Jr=0;function Gr(){return++Jr}const D={};function Hr(e,t,r=3){if(D[t])return;let a=new Error().stack;typeof a>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(a=a.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(a),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(a))),D[t]=!0}const Yr={},v=Object.create(null),b=Object.create(null);function Qr(){let e;for(e in v)v[e].destroy();for(e in b)b[e].destroy()}function Vr(){let e;for(e in v)delete v[e];for(e in b)delete b[e]}class Xr{constructor(t,r,a){this.canvas=g.settings.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=a||g.settings.RESOLUTION,this.resize(t,r)}clear(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}resize(t,r){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(r*this.resolution)}destroy(){this.context=null,this.canvas=null}get width(){return this.canvas.width}set width(t){this.canvas.width=Math.round(t)}get height(){return this.canvas.height}set height(t){this.canvas.height=Math.round(t)}}function Kr(e){let t=e.width,r=e.height;const a=e.getContext("2d"),n=a.getImageData(0,0,t,r).data,i=n.length,o={top:null,left:null,right:null,bottom:null};let l=null,s,f,c;for(s=0;s<i;s+=4)n[s+3]!==0&&(f=s/4%t,c=~~(s/4/t),o.top===null&&(o.top=c),(o.left===null||f<o.left)&&(o.left=f),(o.right===null||o.right<f)&&(o.right=f+1),(o.bottom===null||o.bottom<c)&&(o.bottom=c));return o.top!==null&&(t=o.right-o.left,r=o.bottom-o.top+1,l=a.getImageData(o.left,o.top,t,r)),{height:r,width:t,data:l}}const _=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Zr(e){const t=_.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}let p;function ea(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location,p||(p=document.createElement("a")),p.href=e;const r=E.parse(p.href),a=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!a||r.protocol!==t.protocol?"anonymous":""}function ta(e,t=1){const r=g.settings.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t}Object.defineProperty(exports,"isMobile",{enumerable:!0,get:function(){return g.isMobile}}),Object.defineProperty(exports,"EventEmitter",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(exports,"earcut",{enumerable:!0,get:function(){return L.default}}),exports.BaseTextureCache=b,exports.CanvasRenderTarget=Xr,exports.DATA_URI=_,exports.ProgramCache=Yr,exports.TextureCache=v,exports.clearTextureCache=Vr,exports.correctBlendMode=Nr,exports.createIndicesForQuads=qr,exports.decomposeDataUri=Zr,exports.deprecation=Hr,exports.destroyTextureCache=Qr,exports.determineCrossOrigin=ea,exports.getBufferType=C,exports.getResolutionOfUrl=ta,exports.hex2rgb=_r,exports.hex2string=Tr,exports.interleaveTypedArrays=$r,exports.isPow2=Fr,exports.isWebGLSupported=U,exports.log2=jr,exports.nextPow2=Ur,exports.path=x,exports.premultiplyBlendMode=P,exports.premultiplyRgba=Lr,exports.premultiplyTint=Sr,exports.premultiplyTintToRgba=Br,exports.removeItems=Wr,exports.rgb2hex=Rr,exports.sayHello=$,exports.sign=zr,exports.skipHello=I,exports.string2hex=Mr,exports.trimCanvas=Kr,exports.uid=Gr,exports.url=E;
//# sourceMappingURL=utils.min.js.map
